<odoo>
    <record id="view_repair_order_form" model="ir.ui.view">
        <field name="name">repair.order.form.inherit</field>
        <field name="model">repair.order</field>
        <field name="inherit_id" ref="repair.view_repair_order_form"/>
        <field name="arch" type="xml">
            <!-- Đặt 'name' thành readonly -->
            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>

            <!-- Nhóm: Thông tin chung -->
             <xpath expr="//field[@name='partner_id']" position="before">
                <group name="general_info" string="Thông tin chung">
                    <group>
                        <field name="currency_id" invisible="1"/>
                        <field name="x_customer_feedback"/>
                        <field name="x_notes"/>
                        <field name="x_content"/>
                        <field name="x_pricelist_id"/>
                        <field name="x_total"/>
                        <field name="x_tax_amount"/>
                        <field name="x_total_amount"/>
                    </group>
                </group>
            </xpath>

            <!-- Nhóm: Chủ xe -->
            <xpath expr="//field[@name='partner_id']" position="after">
                <group string="Chủ xe">
                    <field name="partner_id"/>
                    <field name="x_driver"/>
                    <field name="x_driver_phone"/>
                </group>
            </xpath>

            <!-- Nhóm: Thông tin sửa chữa -->
            <xpath expr="//field[@name='partner_id']" position="after">
                <group string="Thông tin sửa chữa">
                    <field name="x_repair_type"/>
                    <field name="x_schedule_id"/>
                    <field name="x_service_advisor_id"/>
                    <field name="x_entry_time"/>
                    <field name="x_reception_time"/>
                    <field name="x_expected_completion_time"/>
                    <field name="x_completion_time"/>
                    <field name="x_km_at_repair"/>
                    <field name="x_execution_location"/>
                    <field name="x_cpus_status" invisible="state != 'done'" required="state == 'done'"/>
                    <field name="x_repair_action" invisible="state != 'done'" required="state == 'done'"/>
                    <field name="x_repair_result" invisible="state != 'done'" required="state == 'done'"/>
                </group>
            </xpath>


        </field>
    </record>
</odoo>


