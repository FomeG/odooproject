<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_repair_order_form_inherit" model="ir.ui.view">
        <field name="name">repair.order.form.inherit</field>
        <field name="model">repair.order</field>
        <field name="inherit_id" ref="repair.view_repair_order_form" />
        <field name="arch" type="xml">
            <!-- Make name field readonly -->
            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>


            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="x_repair_type" />
                <field name="x_schedule_id" />


                <field name="x_cpus_status"
                    invisible="state != 'done'"
                    required="state == 'done'" />
                <field name="x_repair_action"
                    invisible="state != 'done'"
                    required="state == 'done'" />
                <field name="x_repair_result"
                    invisible="state != 'done'"
                    required="state == 'done'" />


                <field name="x_service_advisor_id" />
                <field name="x_entry_time" />
                <field name="x_reception_time" />
                <field name="x_expected_completion_time" />
                <field name="x_completion_time" />
                <field name="x_km_at_repair" />
                <field name="x_execution_location" />


            </xpath>
        </field>
    </record>
</odoo>